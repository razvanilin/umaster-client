<div class="row" ng-controller="TemplatesCtrl">
  <div ng-show="noDeletedTemplates" class="row centered">
    <p class="flow-text white-text">There are no templates in the archive.</p>
  </div>
  <div ng-if="!temp.active" ng-repeat="temp in deletedTemplates">
    <!-- <div class="clearfix" ng-if="$index % 3 == 0"></div> -->
    <div class="col s12 m4">
      <div class="card grey lighten-5 z-depth-1 hoverable">
        <div class="card-content">
          <span class="card-title">
            <a href="#{{temp.template_id}}" class="grey-text text-darken-3" modal>{{temp.name}}</a>
          </span>
          <div class="section">
            <p class="truncate">
              <a href="#{{temp.template_id}}" class="grey-text text-darken-3" modal>{{temp.description}}</a>
            <p>
          </div>

          <div class="section">
            <div ng-show="temp.platforms.win" class="chip blue lighten-3 hoverable">
              Windows
            </div>
            <div ng-show="temp.platforms.osx" class="chip grey lighten-1 hoverable">
              Mac OS
            </div>
          </div>

          <div class="divider"></div>
          <div class="section center" style="padding-bottom:0">
              <img src="{{temp._creator.profile.picture}}" class="circle" height="20px"> {{temp._creator.profile.nickname}}
          </div>
        </div>
        <div ng-show="temp._creator.profile.email == profile.email" class="card-action">
          <a class="waves-effect waves-light" ng-click="activateTemplate(temp, $index)">Activate again</a>
        </div>
      </div>
    </div>

    <!-- Description modal -->
    <div id="{{temp.template_id}}" class="modal">
      <div class="modal-content">
        <h3>{{temp.name}}</h3>
        <div class="section">
          <p class="flow-text">Custom Fields:</p>
          <ul class="collection">
            <li class="collection-item" ng-repeat="arg in temp.args">
              <span class="title">{{arg.label}} - {{arg.type}}</span>
            </li>
          </ul>
        </div>

        <div class="section">
          <p class="flow-text">Platforms available on:</p>
            <div ng-show="temp.platforms.win" class="chip blue lighten-3 hoverable">
              Windows
            </div>
            <div ng-show="temp.platforms.osx" class="chip grey lighten-1 hoverable">
              Mac OS
            </div>
        </div>
      </div>
      <div class="modal-footer">
        <a class="modal-action modal-close waves-effect btn-flat">Close</a>
      </div>
    </div>

  </div>
</div>
